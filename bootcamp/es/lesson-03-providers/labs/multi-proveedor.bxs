// multi-proveedor.bxs
// Laboratorio: App de comparaci√≥n multi-proveedor
// Ejecutar con: boxlang multi-proveedor.bxs

println( "üîÄ Demo de IA Multi-Proveedor" )
println()
println( "Proveedores disponibles:" )
println( "1. OpenAI" )
println( "2. Claude" )
println( "3. Ollama (local)" )
println( "4. ¬°Comparar todos!" )
println()

print( "Elige opci√≥n (1-4): " )
choice = readLine()

print( "Ingresa tu pregunta: " )
question = readLine()

println()
println( "‚îÄ".repeat( 50 ) )
println()

function callProvider( name, options, params = {} ) {
    try {
        startTime = getTickCount()
        answer = aiChat( question, params, options )
        duration = getTickCount() - startTime

        println( "‚úÖ #name# (#duration#ms):" )
        println( answer )
        println()
        return true
    } catch( any e ) {
        println( "‚ùå #name# fall√≥: #e.message#" )
        println()
        return false
    }
}

switch( choice ) {
    case "1":
        callProvider( "OpenAI", { provider: "openai" } )
        break

    case "2":
        callProvider( "Claude", { provider: "claude" } )
        break

    case "3":
        callProvider( "Ollama", { provider: "ollama" }, { model: "llama3.2" } )
        break

    case "4":
        println( "üîÑ Comparando todos los proveedores..." )
        println()

        callProvider( "OpenAI", { provider: "openai" } )
        callProvider( "Claude", { provider: "claude" } )
        callProvider( "Ollama", { provider: "ollama" }, { model: "llama3.2" } )

        println( "‚ú® ¬°Comparaci√≥n completa!" )
        break

    default:
        println( "¬°Opci√≥n inv√°lida!" )
}
