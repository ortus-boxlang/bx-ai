/**
 * [BoxLang]
 *
 * Copyright [2023] [Ortus Solutions, Corp]
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the
 * License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS"
 * BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 * ----------------------------------------------------------------------------------
 * AI
 */
@BoxBIF
class extends="aiChat"{

	/**
	 * Inject the following references into the class
	 * - moduleRecord : The ModuleRecord instance
	 * - boxRuntime : The BoxRuntime instance
	 * - interceptorService : The BoxLang InterceptorService
	 * - log : A logger for the module config itself
	 */

    /**
     * Initiate an AI chat against the default or custom AI Provider.
	 * <p>
	 * The messages can be a simple string, a struct representing a message or an array of messages or an actual AiMessage object
	 * <p>
	 * The <code>params</code> are a struct of request params to pass to the provider for the model request according to the provider: Ex	{ temperature: 0.5, max_tokens: 100, model: "gpt-3.5-turbo" }.
	 * You can also use default params in your Module configuration.
	 * <p>
	 * The <code>options</code> are a struct of request options to pass to the service for the model request. Available options are:
	 * <ul>
	 * <li>provider:string - The provider to use for the chat. If not passed, we will use the default from the configuration.</li>
	 * <li>apiKey:string - The API Key for the provider. If not passed, we will use the default from the configuration.</li>
	 * <li>timeout:numeric - The timeout in seconds for the request. The default is 30 seconds</li>
	 * <li>logResponse:boolean - Log the response into the ai.log. The default is false</li>
	 * <li>logRequest:boolean - Log the request into the ai.log. The default is false</li>
	 * <li>returnFormat:string - The return format of the response. The default is "single" message. Valid formats are: "single", "all", "raw"</li>
	 * </ul>
	 *
	 * @messages The messages to pass into the required model. This depends on the provider. It can be a simple string, a struct representing a message or an array of messages or an actual AiMessage object
	 * @params A struct of request params to pass to the provider for the model request: Ex	{ temperature: 0.5, max_tokens: 100, model: "gpt-3.5-turbo" }
	 * @options A struct of request options to pass to the provider for the model request. Available options are: { provider:string, apiKey:string, returnFormat:string timeout:numeric, logResponse:boolean, logRequest:boolean }
	 *
	 * @throw InvalidArgument if the return format is not valid
	 *
	 * @return A BoxLang Future of the AI response
     */
    function invoke(
		required any messages,
		struct params = {},
		struct options = {}
	) {
		return futureNew( () => super.invoke( messages, params, options ) );
	}

}
