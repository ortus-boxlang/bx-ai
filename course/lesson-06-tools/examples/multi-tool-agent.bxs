// multi-tool-agent.bxs
/**
 * Multi-Tool Agent Demo
 * Agent with multiple tools working together
 */

println( "=== Multi-Tool Agent Demo ===" )
println()

// Tool 1: Calculator
calculatorTool = aiTool()
    .setName( "calculate" )
    .setDescription( "Perform mathematical calculations" )
    .setParameters( {
        type: "object",
        properties: {
            expression: { type: "string", description: "Math expression" }
        },
        required: [ "expression" ]
    } )
    .setHandler( ( args ) => {
        return evaluate( args.expression )
    } )

// Tool 2: Current Time
timeTool = aiTool()
    .setName( "get_current_time" )
    .setDescription( "Get the current date and time" )
    .setParameters( {
        type: "object",
        properties: {}
    } )
    .setHandler( ( args ) => {
        return dateTimeFormat( now(), "full" )
    } )

// Tool 3: Word Counter
wordCountTool = aiTool()
    .setName( "count_words" )
    .setDescription( "Count words in a text string" )
    .setParameters( {
        type: "object",
        properties: {
            text: { type: "string", description: "Text to count words in" }
        },
        required: [ "text" ]
    } )
    .setHandler( ( args ) => {
        return listLen( args.text, " " )
    } )

// Combine all tools
tools = [ calculatorTool, timeTool, wordCountTool ]

// Test questions that require different tools
questions = [
    "What time is it?",
    "Calculate 25 * 4",
    "How many words are in: 'The quick brown fox jumps'",
    "What's the time and what is 10 + 5?",
    "Count the words in 'Hello World' and multiply by 3"
]

questions.each( question => {
    println( "-".repeat( 70 ) )
    println( "Question: #question#" )
    println()
    
    try {
        answer = aiChat(
            question,
            { tools: tools }
        )
        
        println( "AI: #answer#" )
        
    } catch( any e ) {
        println( "âŒ Error: #e.message#" )
    }
    
    println()
} )

println( "ğŸ’¡ Multi-Tool Benefits:" )
println( "- AI chooses the right tool for each task" )
println( "- Can use multiple tools in one response" )
println( "- Combines tool results intelligently" )
println( "- Extends AI capabilities infinitely" )
