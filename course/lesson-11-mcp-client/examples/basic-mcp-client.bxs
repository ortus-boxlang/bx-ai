// basic-mcp-client.bxs
/**
 * Basic MCP Client Demo
 * Shows simple connection and discovery
 */

println( "=== Basic MCP Client Demo ===" )
println()

// Create an MCP client
mcpURL = "http://localhost:3000"
println( "Connecting to MCP server: #mcpURL#" )
println()

client = MCP( mcpURL )
    .withTimeout( 5000 )

// Discover available tools
println( "Discovering available tools..." )
toolsResult = client.listTools()

if ( toolsResult.getSuccess() ) {
    tools = toolsResult.getData()
    println( "âœ… Found #tools.len()# tools:" )
    println()
    
    tools.each( tool => {
        println( "  ğŸ“¦ #tool.name#" )
        println( "     #tool.description#" )
        println()
    } )
} else {
    println( "âŒ Error: #toolsResult.getError()#" )
}

println( "-".repeat( 70 ) )

// Discover available resources
println( "Discovering available resources..." )
resourcesResult = client.listResources()

if ( resourcesResult.getSuccess() ) {
    resources = resourcesResult.getData()
    println( "âœ… Found #resources.len()# resources:" )
    println()
    
    resources.each( resource => {
        println( "  ğŸ“„ #resource.uri# (#resource.type#)" )
    } )
} else {
    println( "âŒ Error: #resourcesResult.getError()#" )
}

println()
println( "ğŸ’¡ Next Steps:" )
println( "- Run the server with: npm start" )
println( "- Try invoking tools with client.send()" )
println( "- Read resources with client.readResource()" )
